(this["webpackJsonpbloglist-frontend"]=this["webpackJsonpbloglist-frontend"]||[]).push([[0],{109:function(e,t,n){e.exports=n(138)},138:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),o=n.n(c),l=n(11),u=n.n(l),i=n(10),s=n(17),m=n(188),p=n(49),d=n(189),f=n(97),E=n(190),b=n(191),v=n(192),g=n(193),h=n(184),y=function(){for(var e=[],t=0;t<6;t++)e.push(o.a.createElement("div",{key:t},o.a.createElement(h.a,{animation:"wave",height:80})));return o.a.createElement(o.a.Fragment,null,e)},O=function(){var e=Object(i.c)((function(e){return e.blogs}));return o.a.createElement(m.a,{container:!0,direction:"column",justify:"space-between",alignItems:"stretch",spacing:3},o.a.createElement(m.a,{container:!0,alignItems:"center",justify:"center",spacing:3},o.a.createElement(m.a,{item:!0},o.a.createElement(p.a,{variant:"h2"},"Blogs"))),o.a.createElement(m.a,{item:!0},e.length>=1?o.a.createElement(d.a,{component:f.a},o.a.createElement(E.a,null,o.a.createElement(b.a,null,e.sort((function(e,t){return t.likes-e.likes})).map((function(e){return o.a.createElement(v.a,{key:e.id},o.a.createElement(g.a,null,o.a.createElement(s.b,{to:"/blogs/".concat(e.id)},e.title," ")),o.a.createElement(g.a,null,e.author))}))))):o.a.createElement(y,null)))},w=n(37),k=function(){var e=Object(w.g)().id,t=Object(i.c)((function(e){return e.users})).find((function(t){return t.id===e}));return t?o.a.createElement(m.a,{alignItems:"stretch",justify:"center",container:!0,direction:"column",spacing:3},o.a.createElement(m.a,{alignItems:"center",container:!0,justify:"center",direction:"column"},o.a.createElement(m.a,{item:!0},o.a.createElement(p.a,{variant:"h2"},t.name)),o.a.createElement(m.a,{item:!0},t.blogs.length<1?o.a.createElement(p.a,{variant:"h4"},"no blogs yet :/"):o.a.createElement(p.a,{variant:"h4"},"added blogs"))),o.a.createElement(m.a,{item:!0},o.a.createElement(d.a,{component:f.a},o.a.createElement(E.a,null,o.a.createElement(b.a,null,t.blogs.map((function(e){return o.a.createElement(v.a,{key:e.id},o.a.createElement(g.a,null,o.a.createElement(s.b,{to:"/blogs/".concat(e.id)},e.title," ")),o.a.createElement(g.a,null,o.a.createElement(p.a,null,e.likes," likes")))}))))))):null},j=n(56),x=n(8),S=n.n(x),T=n(14),I=n(26),C=n.n(I),L="/api/blogs",N=null,_={getAll:function(){return C.a.get(L).then((function(e){return e.data}))},create:function(){var e=Object(T.a)(S.a.mark((function e(t){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:N}},e.next=3,C.a.post(L,t,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(e,t){return C.a.put("".concat(L,"/").concat(e),t).then((function(e){return e.data}))},setToken:function(e){N="bearer ".concat(e)},remove:function(e){var t={headers:{Authorization:N}};return C.a.delete("".concat(L,"/").concat(e),t).then((function(e){return e.data}))},resetToken:function(){return N=null},getComments:function(){var e=Object(T.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("".concat(L,"/all/comments"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),postComment:function(){var e=Object(T.a)(S.a.mark((function e(t,n){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.post("".concat(L,"/").concat(n,"/comments"),t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},A=function(e,t,n,r){e({type:"ADD_MESSAGE",data:{message:t,severity:r||"success"}}),clearTimeout(a),a=setTimeout((function(){e({type:"CLEAR_MESSAGE"})}),1e3*(n||5))},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_BLOGS":return t.data;case"CREATE_BLOG":return e.concat(t.data);case"LIKE_BLOG":return e.map((function(e){return e.id===t.data.id?t.data:e}));case"DELETE_BLOG":return e.filter((function(e){return e.id!==t.data}));default:return e}},G=n(7),D=n(18),R=n(194),U=function(e){var t=Object(c.useState)(""),n=Object(D.a)(t,2),a=n[0],r=n[1];return{type:e,value:a,onChange:function(e){r(e.target.value)},onSubmit:function(){return r("")}}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_COMMENTS":return t.comments;case"POST_COMMENT":return e.concat(t.comment);default:return e}},P=n(216),q=function(e){var t=e.blog,n=U("text"),a=Object(i.c)((function(e){return e.comments.filter((function(e){return e.blogId===t.id}))})),r=Object(i.b)();return o.a.createElement("div",null,o.a.createElement(p.a,null,a.length," comments"),o.a.createElement("form",{onSubmit:function(e){e.preventDefault();try{var a={comment:n.value};r((c=a,o=t.id,function(){var e=Object(T.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.postComment(c,o);case 3:n=e.sent,t({type:"POST_COMMENT",comment:n}),A(t,"comment added"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response.data.error?A(t,e.t0.response.data.error,15,"error"):A(t,"Server is not responding",15,"error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),n.onSubmit()}catch(l){console.log(l)}var c,o}},o.a.createElement(P.a,{label:"add comment",inputProps:n})),a.map((function(e){return o.a.createElement(p.a,{key:e.id},e.comment)})))},J=n(204),F=n(203),z=n(219),K=n(207),V=n(205),W=n(206),Y=n(198),H=n(202),Q=n(200),X=n(201),Z=n(199),$=function(e){var t=e.buttonText,n=e.dialogTitle,a=e.dialogText,r=e.confirmButtonName,c=e.cancelButtonName,l=e.action,u=o.a.useState(!1),i=Object(D.a)(u,2),s=i[0],m=i[1],d=function(){m(!1)};return o.a.createElement("div",null,o.a.createElement(p.a,{onClick:function(){m(!0)}},t),o.a.createElement(Y.a,{open:s,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(Z.a,{id:"alert-dialog-title"},n),o.a.createElement(Q.a,null,o.a.createElement(X.a,{id:"alert-dialog-description"},a)),o.a.createElement(H.a,null,o.a.createElement(F.a,{variant:"contained",onClick:function(){m(!1),l()},color:"secondary"},r),o.a.createElement(F.a,{variant:"contained",onClick:d,color:"primary",autoFocus:!0},c))))},ee=function(){var e=Object(w.g)().id,t=Object(i.b)(),n=Object(w.f)(),a=Object(i.c)((function(e){return e.blogs})),r=Object(i.c)((function(e){return e.login})),c=a.find((function(t){return t.id===e}));if(!c)return null;var l=c.user[0];return o.a.createElement(J.a,null,o.a.createElement(m.a,{container:!0,direction:"column",justify:"space-between",spacing:3},o.a.createElement(m.a,{item:!0},o.a.createElement(p.a,{variant:"h2"},c.title," ",c.author),o.a.createElement(p.a,null,"added by ",o.a.createElement(s.b,{to:"/users/".concat(l.id)},l.name," ")),o.a.createElement("a",{href:c.url},o.a.createElement(p.a,null,c.url))),o.a.createElement(m.a,{item:!0},o.a.createElement(m.a,{container:!0,direction:"row",justify:"space-between"},o.a.createElement(F.a,{variant:"contained",startIcon:o.a.createElement(V.a,null),color:"inherit",id:"blogLikeButton",onClick:function(){return t(function(e){return function(){var t=Object(T.a)(S.a.mark((function t(n){var a,r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=Object(j.a)({},e,{likes:e.likes+1}),t.next=4,_.update(e.id,a);case 4:r=t.sent,n({type:"LIKE_BLOG",data:a}),A(n,"liked ".concat(r.title,"!")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0.response.data.error?A(n,t.t0.response.data.error,15,"error"):A(n,"Server is not responding",15,"error");case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(c))}},c.likes," likes"),!r||!c.user||c.user.length>0&&r.username!==l.username?o.a.createElement(z.a,{title:"only owner can delete"},o.a.createElement("span",null,o.a.createElement(F.a,{variant:"outlined",startIcon:o.a.createElement(W.a,null),disabled:!0},"Remove"))):o.a.createElement(F.a,{variant:"outlined",color:"secondary",startIcon:o.a.createElement(W.a,null)},o.a.createElement($,{buttonText:"Remove",dialogTitle:"Delete blog?",dialogText:"Just confirming that you really want to delete ".concat(c.title," by ").concat(c.author,".\nThis action cannot be reverted."),confirmButtonName:"Remove",cancelButtonName:"Cancel",action:function(){t(function(e){return function(){var t=Object(T.a)(S.a.mark((function t(n){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.remove(e.id);case 3:n({type:"DELETE_BLOG",data:e.id}),A(n,"".concat(e.title," deleted!")),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response.data.error?A(n,t.t0.response.data.error,15,"error"):A(n,"Server is not responding",15,"error");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(c)),n.push("/blogs")}})))),o.a.createElement(m.a,{item:!0},o.a.createElement(K.a,{spacing:3})),o.a.createElement(m.a,{item:!0},o.a.createElement(q,{blog:c}))))},te=n(217),ne=n(220),ae=function(e,t,n){return function(a){a({type:"ADD_MESSAGE",data:{message:e,severity:n||"success"}}),clearTimeout(r),r=setTimeout((function(){a({type:"CLEAR_MESSAGE"})}),1e3*(t||5))}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return t.data;case"CLEAR_MESSAGE":return null;default:return e}},ce=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.notifications})),n=function(){e((function(e){e({type:"CLEAR_MESSAGE"})}))};return t?o.a.createElement(ne.a,{open:!0,onClose:n},o.a.createElement(te.a,{onClose:n,severity:t.severity},t&&o.a.createElement("div",{className:"error"},t.message))):null},oe=null,le={getAll:function(){return C.a.get("/api/users").then((function(e){return e.data}))},signIn:function(){var e=Object(T.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.post("/api/users",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(e){var t={headers:{Authorization:oe}};return C.a.delete("".concat("/api/users","/").concat(e),t).then((function(e){return e.data}))},setToken:function(e){oe="bearer ".concat(e)},resetToken:function(){return oe=null}},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_USERS":return t.data;case"UPDATE_USER_BLOGS":var n=e.find((function(e){return e.username===t.username})),a=n.blogs.concat(t.blog);return e.map((function(e){return e.username===t.username?Object(j.a)({},n,{blogs:a}):e}));case"ADD_USER":return e.concat(t.user);case"REMOVE_USER":return e.filter((function(e){return e.id!==t.id}));default:return e}},ie={login:function(){var e=Object(T.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},se=function(e){return function(){var t=Object(T.a)(S.a.mark((function t(n){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ie.login(e);case 3:a=t.sent,window.localStorage.setItem("loggedUser",JSON.stringify(a)),_.setToken(a.token),le.setToken(a.token),n({type:"LOGIN",data:a}),A(n,"welcome ".concat(a.name,"!")),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),t.t0.response.data.error?A(n,t.t0.response.data.error,15,"error"):A(n,"Server is not responding",15,"error");case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},me=function(e,t){return function(){var n=Object(T.a)(S.a.mark((function n(a){var r,c;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,le.signIn(e);case 3:return r=n.sent,n.next=6,ie.login({username:e.username,password:e.password});case 6:c=n.sent,window.localStorage.setItem("loggedUser",JSON.stringify(c)),_.setToken(c.token),le.setToken(c.token),a({type:"LOGIN",data:c}),a({type:"ADD_USER",user:r}),A(a,"account created ".concat(e.name,"!")),t.push("/users/".concat(r.id)),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),n.t0.response.data.error?A(a,n.t0.response.data.error,15,"error"):A(a,"Server is not responding",15,"error");case 19:case"end":return n.stop()}}),n,null,[[0,16]])})));return function(e){return n.apply(this,arguments)}}()},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return t.data;case"LOGOUT":return null;default:return e}},de=n(209),fe=function(){var e=Object(i.c)((function(e){return e.users}));return o.a.createElement(m.a,{alignItems:"stretch",justify:"center",container:!0,direction:"column",spacing:3},o.a.createElement(m.a,{alignItems:"center",container:!0,justify:"center",direction:"column"},o.a.createElement(m.a,{item:!0},o.a.createElement(p.a,{variant:"h2"},"Users"))),o.a.createElement(m.a,{item:!0},e.length>=1?o.a.createElement(d.a,{component:f.a},o.a.createElement(E.a,null,o.a.createElement(de.a,null,o.a.createElement(v.a,null,o.a.createElement(g.a,null,"user"),o.a.createElement(g.a,{align:"right"},"blogs created"))),o.a.createElement(b.a,null,e.map((function(e){return o.a.createElement(v.a,{key:e.id},o.a.createElement(g.a,{component:"th",scope:"row"},o.a.createElement(s.b,{to:"/users/".concat(e.id)},o.a.createElement(p.a,null,e.username))),o.a.createElement(g.a,{align:"right",scope:"row"},o.a.createElement(p.a,null,e.blogs.length)))}))))):o.a.createElement(y,null)))},Ee=n(214),be=n(213),ve=n(221),ge=n(218),he=n(208),ye=n(197),Oe=n(210),we=n(211),ke=n(212),je=n(94),xe=n.n(je),Se=n(215),Te=n(16),Ie=function(){var e=Object(i.b)();return o.a.createElement(p.a,{color:"inherit",onClick:function(){e((function(e){window.localStorage.removeItem("loggedUser"),_.resetToken(),le.resetToken(),e({type:"LOGOUT"}),A(e,"logged out",5,"info")}))}},"logout")},Ce=function(){var e=Object(i.b)(),t=U("text"),n=U("password"),a=Object(c.useState)(!1),r=Object(D.a)(a,2),l=r[0],u=r[1],s=function(){var a=Object(T.a)(S.a.mark((function a(r){return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r.preventDefault();try{e(se({username:t.value,password:n.value})),t.onSubmit(),n.onSubmit()}catch(c){console.log(c),e(ae("wrong username or password",5))}case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement(F.a,{variant:"outlined",color:"inherit",onClick:function(){u(!0)}},"Login"),o.a.createElement(Y.a,{open:l,onClose:function(){u(!1)},"aria-labelledby":"form-dialog-title"},o.a.createElement(Z.a,{id:"form-dialog-title"},"Login"),o.a.createElement(Q.a,null,o.a.createElement("form",{onSubmit:s},o.a.createElement("div",null,o.a.createElement(P.a,{label:"username",inputProps:t,required:!0})),o.a.createElement("div",null,o.a.createElement(P.a,{label:"password",inputProps:n,required:!0})),o.a.createElement(H.a,null,o.a.createElement(F.a,{variant:"contained",id:"login-button",type:"submit"},"login"))))))},Le=function(){var e=Object(w.f)(),t=Object(i.b)(),n=U("text"),a=U("text"),r=U("password"),l=Object(c.useState)(!1),u=Object(D.a)(l,2),s=u[0],m=u[1],p=function(){var c=Object(T.a)(S.a.mark((function c(o){return S.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:o.preventDefault(),t(me({username:n.value,password:r.value,name:a.value},e));case 2:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return o.a.createElement("div",null,o.a.createElement(F.a,{variant:"outlined",color:"inherit",onClick:function(){m(!0)}},"Sign in"),o.a.createElement(Y.a,{open:s,onClose:function(){m(!1)},"aria-labelledby":"form-dialog-title"},o.a.createElement(Z.a,{id:"form-dialog-title"},"Sign in"),o.a.createElement(Q.a,null,o.a.createElement("form",{onSubmit:p},o.a.createElement("div",null,o.a.createElement(P.a,{label:"name",inputProps:a,required:!0})),o.a.createElement("div",null,o.a.createElement(P.a,{label:"username",inputProps:n,required:!0})),o.a.createElement("div",null,o.a.createElement(P.a,{label:"password",inputProps:r,required:!0})),o.a.createElement(H.a,null,o.a.createElement(F.a,{variant:"contained",id:"login-button",type:"submit"},"sign in"))))))},Ne=function(){var e=Object(i.b)(),t=Object(w.f)(),n=U("text"),a=U("text"),r=U("url"),l=Object(c.useState)(!1),u=Object(D.a)(l,2),s=u[0],m=u[1];return o.a.createElement("div",null,o.a.createElement(p.a,{color:"inherit",onClick:function(){return m(!0)}},"create blog"),o.a.createElement(Y.a,{open:s,onClose:function(){return m(!1)},"aria-labelledby":"form-dialog-title"},o.a.createElement(Z.a,{id:"form-dialog-title"},"Create blog"),o.a.createElement(Q.a,null,o.a.createElement("form",{className:"formDiv",onSubmit:function(c){c.preventDefault();var o={title:n.value,author:a.value,url:r.value};e(function(e,t){return function(){var n=Object(T.a)(S.a.mark((function n(a){var r,c;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_.create(e);case 3:r=n.sent,a({type:"CREATE_BLOG",data:r}),c=r.user[0].username,a({type:"UPDATE_USER_BLOGS",blog:r,username:c}),A(a,"a new blog ".concat(r.title," by ").concat(r.author," added")),t.push("/blogs/".concat(r.id)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),n.t0.response.data.error?A(a,n.t0.response.data.error,15,"error"):A(a,"Server is not responding",15,"error");case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(o,t)),m(!1)}},o.a.createElement("div",null,o.a.createElement(P.a,{label:"title",inputProps:n,required:!0})),o.a.createElement("div",null,o.a.createElement(P.a,{label:"author",inputProps:a,required:!0})),o.a.createElement("div",null,o.a.createElement(P.a,{label:"url",inputProps:r,required:!0})),o.a.createElement(H.a,null,o.a.createElement(F.a,{id:"blogSubmitButton",type:"submit"},"submit"))))))},_e=function(){var e=Object(w.f)(),t=Object(i.c)((function(e){return e.login})),n=Object(i.c)((function(e){return e.users.find((function(e){return e.username===t.username}))})),a=Object(i.b)();return o.a.createElement("div",null,o.a.createElement($,{buttonText:"remove",dialogTitle:"Remove accout",dialogText:"You are about to delete your account ".concat(t.name,". All your blogs and information will be removed. This action cannot be reverted."),confirmButtonName:"Remove Account",cancelButtonName:"Cancel",action:function(){a(function(e){return function(){var t=Object(T.a)(S.a.mark((function t(n){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,le.remove(e.id);case 3:n({type:"REMOVE_USER",id:e.id}),e.blogs.forEach((function(e){n({type:"DELETE_BLOG",data:e.id})})),window.localStorage.removeItem("loggedUser"),_.resetToken(),le.resetToken(),n({type:"LOGOUT"}),A(n,"User ".concat(e.name," removed.")),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),A(n,t.t0.response.data.error,15,"error"),A(n,"Server is not responding",15,"error");case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}(n,n.id)),e.push("/blogs")}}))},Ae=function(){var e=Object(i.c)((function(e){return e.login}));return o.a.createElement(o.a.Fragment,null,e&&o.a.createElement("em",null,o.a.createElement(p.a,{color:"inherit",component:s.b,to:"/users/".concat(e.id)},e.name)," logged in "))},Be=n(93),Ge=n.n(Be),De=n(92),Re=n.n(De),Ue=Object(R.a)((function(e){return{root:{display:"flex"},drawer:Object(G.a)({},e.breakpoints.up("sm"),{width:140,flexShrink:0}),appBar:Object(G.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(140,"px)"),marginLeft:140}),menuButton:Object(G.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:140},content:{flexGrow:1,padding:e.spacing(3)}}}));var Me=function(e){var t=Object(i.c)((function(e){return e.login})),n=e.window,a=Ue(),r=Object(Te.a)(),c=o.a.useState(!1),l=Object(D.a)(c,2),u=l[0],m=l[1],d=function(){m(!u)},f=o.a.createElement("div",null,o.a.createElement("div",{className:a.toolbar}),o.a.createElement(K.a,null),o.a.createElement(ye.a,null,[{text:"blogs",to:"/blogs",icon:o.a.createElement(Re.a,null)},{text:"users",to:"/users",icon:o.a.createElement(Ge.a,null)}].map((function(e){return o.a.createElement(Oe.a,{button:!0,key:e.text,component:s.b,to:e.to},o.a.createElement(we.a,null,e.icon),o.a.createElement(ke.a,{primary:e.text}))}))),o.a.createElement(K.a,null),o.a.createElement(ye.a,null,t?o.a.createElement(o.a.Fragment,null,o.a.createElement(Oe.a,{button:!0,key:"blogform"},o.a.createElement(Ne,null)),o.a.createElement(Oe.a,{button:!0,key:"logout"},o.a.createElement(Ie,null)),o.a.createElement(Oe.a,{button:!0,key:"removeuserbutton"},o.a.createElement(_e,null))):o.a.createElement(o.a.Fragment,null,o.a.createElement(Oe.a,{button:!0,key:"loginform"},o.a.createElement(Ce,null)),o.a.createElement(Oe.a,{button:!0,key:"signinform"},o.a.createElement(Le,null))))),E=void 0!==n?function(){return n().document.body}:void 0;return o.a.createElement("div",{className:a.root},o.a.createElement("div",{className:a.toolbar}),o.a.createElement(be.a,null),o.a.createElement(Ee.a,{position:"fixed",className:a.appBar},o.a.createElement(Se.a,null,o.a.createElement(he.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:d,className:a.menuButton},o.a.createElement(xe.a,null)),o.a.createElement(p.a,{spacing:15,variant:"h6",noWrap:!0},"Blogs"),o.a.createElement(Ae,null))),o.a.createElement("nav",{className:a.drawer,"aria-label":"mailbox folders"},o.a.createElement(ge.a,{smUp:!0,implementation:"css"},o.a.createElement(ve.a,{container:E,variant:"temporary",anchor:"rtl"===r.direction?"right":"left",open:u,onClose:d,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},f)),o.a.createElement(ge.a,{xsDown:!0,implementation:"css"},o.a.createElement(ve.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},f))))},Pe=function(){var e=Object(i.b)();return Object(c.useEffect)((function(){e(function(){var e=Object(T.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.getAll();case 3:n=e.sent,t({type:"INIT_BLOGS",data:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),A(t,"couldn't load blogs from server",5,"warning");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(T.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le.getAll();case 3:n=e.sent,t({type:"INIT_USERS",data:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),A(t,"couldn't load users from server",5,"warning");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(T.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.getComments();case 3:n=e.sent,t({type:"INIT_COMMENTS",comments:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),A(t,"couldn't load comments from server",5,"warning");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(c.useEffect)((function(){var t,n=window.localStorage.getItem("loggedUser");n&&e((t=n,function(e){var n=JSON.parse(t);_.setToken(n.token),le.setToken(n.token),e({type:"LOGIN",data:n})}))}),[e]),o.a.createElement(J.a,null,o.a.createElement(s.a,null,o.a.createElement(ce,null),o.a.createElement(Me,null),o.a.createElement(J.a,null,o.a.createElement(m.a,{container:!0,direction:"column",justify:"flex-end",alignItems:"center",spacing:6},o.a.createElement(m.a,{item:!0},o.a.createElement("span",null)),o.a.createElement(m.a,{item:!0},o.a.createElement(w.c,null,o.a.createElement(w.a,{path:"/blogs/:id"}," ",o.a.createElement(ee,null)," "),o.a.createElement(w.a,{path:"/blogs"}," ",o.a.createElement(O,null)," "),o.a.createElement(w.a,{path:"/users/:id"}," ",o.a.createElement(k,null)," "),o.a.createElement(w.a,{path:"/users"}," ",o.a.createElement(fe,null)," "),o.a.createElement(w.a,{path:"/"}," ",o.a.createElement(O,null)," ")))))))},qe=n(95),Je=n(96),Fe=n(41),ze=Object(Fe.combineReducers)({notifications:re,blogs:B,login:pe,users:ue,comments:M}),Ke=Object(Fe.createStore)(ze,Object(Je.composeWithDevTools)(Object(Fe.applyMiddleware)(qe.a)));u.a.render(o.a.createElement(i.a,{store:Ke},o.a.createElement(Pe,null)),document.getElementById("root"))}},[[109,1,2]]]);
//# sourceMappingURL=main.3c658c1b.chunk.js.map